
---
title: 2021-10-11-第一个java项目
tags: TeXt
layout: home
excerpt_type: html
---

开发需求：三个文件，分别为 

  a.Net Rename Report.txt --开发过程中的重命名文件  

  b.NailSet.asc --DFT提供的原始网络

  c.Nail Removed.asc --供应商提供的确认文件
    
  
具体开发逻辑：  

  1.读取b中的Nailset,记为b,其中第一列是需要用到的基准值
  
  2.在a中匹配1中的Nailset，读取其右边的对应的修改过后的Rename数值,删除不包含1中基准值的行,记为a
  
  3.将a的第二列和c中的第7列进行匹配，删除c中不包含a[:,1]中数值的行，并修改c[:,6]为a[:,1]中的数值  
  
  4.将修改过的a输出为Nail Cannot Remove.asc文件，格式与a中保持一致  
  
开发中需要考虑到的问题： 

  1.读取文件的存储格式，a和b都是二维数组的形式，数组中元素以string形式储存  
  
  2.匹配list时，算法的复杂度优化  
  
  3.
  
基本的算法逻辑：  

代码展示:  

```java  
public class NailCannotRemoveTest {
  @Test
  public void Test(){
    try{ 
//      Path fileA = Paths.get(args[0]);
//      Path fileB = Paths.get(args[1]);
//      Path fileC = Paths.get(args[2]);

      Map<String,String> netNail = new HashMap<>();
      List<String> nailSet = TxtFileUtil.getFileContentList("D:\\Demand\\zhaocheng\\NailSet.asc");
      nailSet.forEach(x->{
        String[] temp = x.split(" ");
        if(temp.length == 2){
          netNail.put(temp[0],temp[1]);
        }
      });

      List<String> netRename = TxtFileUtil.getFileContentList("D:\\Demand\\zhaocheng\\Net Rename Report.txt");
      netRename.forEach(x->{
        String[] temp = x.split("\\s+");
        if(temp.length == 2){
          if(netNail.containsKey(temp[0])){
            netNail.replace(temp[0],temp[1]);
          }
        }
      });

      HashMap<String,String> newMap = new HashMap<>();
      for(String key:netNail.keySet()){
        newMap.put(netNail.get(key),key);
      }

      List<String> outPut = new ArrayList<>();
      List<String> nailsRemove = TxtFileUtil.getFileContentList("D:\\Demand\\zhaocheng\\Nails Removed.asc");
      nailsRemove.forEach(x->{
        String[] temp = x.split("\\s+");
        if(temp.length == 11){
          if(newMap.containsKey(temp[7])){
            outPut.add(x.replace(temp[7],newMap.get(temp[7])));
          }
        }else{
          outPut.add(x);
        }
      });

      TxtFileUtil.writeAll(outPut,"D:\\Demand\\zhaocheng\\Nail Cannot Remove.asc");


    }catch (Exception e){
      e.printStackTrace(); 
    } 
  }
}
```
